
# Telegram Real Estate Bot

## Описание проекта

Telegram Real Estate Bot — это Telegram-бот, созданный для автоматизации коммуникации между агентами по недвижимости и клиентами. Система предоставляет удобный интерфейс для поиска, просмотра и бронирования объектов недвижимости, а также администрирования базы объектов. 

Бот построен на асинхронной архитектуре с использованием `aiogram` и интегрируется с реальной базой данных агентства "Мегаполис". Это делает проект применимым в условиях реального бизнеса и подчёркивает его практическую ценность.

---

## Функциональность

### Для клиентов:
- Просмотр карточек объектов недвижимости с параметрами и фото
- Фильтрация по различным параметрам
- Онлайн-запись на просмотр объектов
- Загрузка Excel-файлов с данными о квартирах и их анализ

### Для администраторов:
- Добавление, обновление и удаление объявлений
- Мониторинг активности пользователей
- FSM-управление доступом и поведением админ-интерфейсов
- Возможность связи с потенциальными покупателями

---

## Технологический стек

| Категория            | Технология                  |
|----------------------|-----------------------------|
| Язык                 | Python 3.10                 |
| Telegram Framework   | Aiogram v3 (асинхронный)    |
| Управление диалогами | FSM (Finite State Machines) |
| База данных          | SQLite + SQLAlchemy ORM     |
| Конфигурации         | python-dotenv (.env файл)   |
| Развёртывание        | Docker, systemd             |

---

## Установка

1. **Скопируйте проект на сервер (или клонируйте репозиторий)**:
   ```bash
   scp -r BOT/ user@your_server:/path/to/project
   ```

2. **Перейдите в директорию проекта**:
   ```bash
   cd /path/to/project/BOT
   ```

3. **Создайте виртуальное окружение**:
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```

4. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

5. **Создайте `.env` файл и укажите токен Telegram-бота**:
   ```
   BOT_TOKEN=токен_бота
   ```

---

## Запуск

Для запуска бота используйте следующую команду:

```bash
python3 -m main
```

> Рекомендуется запускать на сервере с Ubuntu 20.04+ в фоновом режиме через `tmux`, `screen` или `systemd`, чтобы бот работал 24/7.

---

## Как пользоваться ботом

1. Перейдите по ссылке на бота в Telegram:  
   [https://t.me/real_estate_kursach_bot]

2. Взаимодействуйте через команды или меню:
   - `/start` — запуск и регистрация
   - `/admin` — инструменты администратора

---

## Поддерживаемые форматы данных

Бот поддерживает загрузку Excel-файлов `.xlsx` для анализа квартир. Требования к структуре:

- **Первая строка** — заголовки колонок
- **Обязательные поля** (хотя бы в базовом варианте):  
  - `Название`, `Район`, `Комнаты`, `Площадь`, `Цена`, `Этаж`
- **Файл не должен содержать пустые строки или сломанные ячейки**
- **Excel должен быть сохранён в формате `.xlsx`**

После загрузки данных бот выдаёт информацию или анализ по содержимому файла.
